[global]
    #### Basic server identity
    workgroup = WORKGROUP
    # server string is a human-readable description â€” %h is replaced with the system hostname
    server string = NAS Server %h
    # netbios name is the NetBIOS/SMB name advertised on the network; change this to alter the SMB name
    netbios name = NAS

    # To change the system hostname (affects %h):
    #   sudo hostnamectl set-hostname my-new-hostname
    #   hostnamectl status | grep "Static hostname"
    #
    # To change only the SMB/NetBIOS name, edit the "netbios name" above and then restart Samba:
    #   sudo systemctl restart smbd nmbd

    #### Security / authentication
    security = user
    map to guest = Bad User
    guest account = nobody

    #### Logging / performance
    log file = /var/log/samba/%m.log
    max log size = 1000
    syslog = 0
    panic action = /usr/share/samba/panic-action %d

    #### Unix integration / ACLs
    obey pam restrictions = Yes
    unix extensions = Yes
    acl allow execute always = Yes
    map acl inherit = Yes
    vfs objects = acl_xattr
    store dos attributes = Yes

    #### Networking
    dns proxy = No
    # Optionally restrict interfaces:
    # interfaces = lo 192.168.1.0/24
    # bind interfaces only = Yes

    #### Misc
    server role = standalone server
    load printers = No
    printing = bsd
    printcap name = /dev/null
    disable spoolss = Yes

[data]
    path = /srv/samba/data
    comment = NAS data
    browseable = yes
    guest ok = yes
    read only = yes                ; default: guests get read-only

    ; Authenticated writers (members of sambawrite) get write access
    valid users = @sambawrite
    write list = @sambawrite
    force group = sambawrite

    ; Create/mode defaults and inheritance
    create mask = 0664
    directory mask = 2775
    force create mode = 0664
    force directory mode = 2775
    inherit permissions = Yes
    inherit acls = Yes
    # ensure new files inherit group and ACLs

    ; Optional VFS settings for better ACL/attribute support
    vfs objects = acl_xattr
    map acl inherit = Yes
    store dos attributes = Yes

[homes]
    # Serves each Linux user's home directory as \\<SERVER>\<username>.
    # Typical behavior:
    #  - browseable = no    -> hide all home shares from the general share list
    #  - read only = no     -> allow the user to write to their own home
    #  - create/directory mask -> control permissions for new files/dirs
    # Remove or adjust this section if you don't want home shares exposed.
    comment = Home Directories
    browseable = no
    read only = no
    create mask = 0700
    directory mask = 0700

[printers]
    # Legacy printer share. Many NAS setups don't use Samba printing;
    # this section is provided for compatibility with clients expecting a 'printers' share.
    # If you do not provide printers via this server you can leave this section,
    # set printable = no, or remove the section entirely.
    comment = All Printers
    path = /var/spool/samba
    browseable = no
    printable = yes
    guest ok = no
    read only = yes

# End of configuration
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NAS Hub</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='base.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='storage.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='browser.css') }}">
</head>
<body>
  <div class="page">
    <header class="header">
      <h1>NAS Hub</h1>
      <p class="subtitle">
        Welcome to a simple landing page for our NASðŸ“¦.
      </p>
    </header>

    <main class="content">
      <section class="card">
        <h2>Overview</h2>
        <p>
          Local DNS name:
          <span class="endpoint">{{ server_name }}</span>
        </p>
        <p>
          IP address:
          <span class="endpoint">{{ server_ip }}</span>
        </p>
      </section>

      <section class="card">
        <h2>Web File Browser</h2>
        <p class="note">
          Use built-in <b>FileBrowser Quantum</b> with browser and device of your choice.
        </p>
        <a class="button button-primary"
          href="{{ base_url }}:8080"
          target="_blank"
          rel="noopener">
          Browse Now
        </a>
        <p>
          Web UI endpoint:
          <a class="endpoint" href="{{ base_url }}:8080" target="_blank" rel="noopener">
            {{ base_url }}:8080
          </a>
        </p>
      </section>

      <section class="card">
        <h2>Storage usage</h2>
        <ul class="storage-list">
          {% for name, d in disks.items() %}
            <li class="storage-item">
              <div class="storage-header">
                <span>{{ name|capitalize }} ({{ d.path }})</span>
                <span>
                  {{ "%.1f"|format(d.used_gib) }} / {{ "%.1f"|format(d.total_gib) }} GiB
                  ({{ "%.1f"|format(d.percent) }}% used)
                </span>
              </div>

              <div class="storage-bar">
                <div
                  class="storage-bar-fill"
                  style="width: {{ d.percent }}%;"
                ></div>
              </div>
            </li>
          {% endfor %}
        </ul>
      </section>
    </main>

    <footer class="footer">
      <span>NAS Hub</span>
      <span class="dot">&bull;</span>
      <span><a href="https://github.com/kubikulek231/nas" target="_blank" rel="noopener">GitHub repository</a></span>
    </footer>
  </div>
</body>
</html>

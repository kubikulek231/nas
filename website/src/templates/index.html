<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NAS Hub</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='base.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='storage.css') }}">
</head>
<body>
  <div class="page">
    <header class="header">
      <h1>Welcome to your NAS</h1>
      <p class="subtitle">A simple hub for your home storage</p>
    </header>

    <main class="content">
      <section class="card">
        <h2>Browse your files</h2>

        <p>
          NAS IP address:
          <span class="endpoint">{{ server_ip }}</span>
          (DNS name:
          <span class="endpoint">{{ server_name }}</span>)
        </p>

        <p>
          Your NAS files are fully browsable at
          <a class="endpoint" href="{{ base_url }}:8080" target="_blank" rel="noopener">
            {{ base_url }}:8080
          </a>.
        </p>

        <p class="note">
          Use this page as a starting point. Mounting tutorials for SMB and NFS,
          example scripts, and more will be added here later.
        </p>
      </section>

    <section class="card">
      <h2>Storage usage</h2>
      <ul class="storage-list">
        {% for name, d in disks.items() %}
          <li class="storage-item">
            <div class="storage-header">
              <span>{{ name|capitalize }} ({{ d.path }})</span>
              <span>
                {{ "%.1f"|format(d.used_gib) }} / {{ "%.1f"|format(d.total_gib) }} GiB
                ({{ "%.1f"|format(d.percent) }}% used)
              </span>
            </div>

            <div class="storage-bar">
              <div class="storage-bar-fill"
                  style="width: {{ d.percent }}%;"></div>
            </div>
          </li>
        {% endfor %}
      </ul>
    </section>

    </main>

    <footer class="footer">
      <span>NAS Hub</span>
      <span class="dot">&bull;</span>
      <span>Selfâ€‘hosted storage</span>
    </footer>
  </div>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NAS Hub</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='base.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='storage.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='browser.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='guides.css') }}">
</head>
<body>
  <div class="page">

    <!-- Language toggle -->
    <button class="lang-btn" data-lang="en" type="button" aria-pressed="true">
      English
    </button>
    <button class="lang-btn" data-lang="cs" type="button" aria-pressed="false">
      ƒåesky
    </button>
    
    <!-- Header -->
    <header class="header">
      <h1>NAS Hub</h1>

      <p class="subtitle" data-lang="en">
        Welcome to a simple landing page for our NAS üì¶.
      </p>
      <p class="subtitle" data-lang="cs">
        V√≠tejte na jednoduch√© √∫vodn√≠ str√°nce na≈°eho NASu üì¶.
      </p>
    </header>

    <main class="content">

      <!-- Overview -->
      <section class="card">
        <h2 data-lang="en">Overview</h2>
        <h2 data-lang="cs">P≈ôehled</h2>

        <div class="endpoint-container">
          <p data-lang="en">
            Local DNS name:
            <span class="endpoint">{{ server_name }}</span>
          </p>
          <p data-lang="cs">
            Lok√°ln√≠ DNS n√°zev:
            <span class="endpoint">{{ server_name }}</span>
          </p>

          <p data-lang="en">
            IP address:
            <span class="endpoint">{{ server_ip }}</span>
          </p>
          <p data-lang="cs">
            IP adresa:
            <span class="endpoint">{{ server_ip }}</span>
          </p>
        </div>

        <p class="note" data-lang="en">
          This NAS can be accessed over <b>SMB</b> and <b>NFS</b> from both Windows and Linux clients,
          and also through the built-in web file browser.
        </p>
        <p class="note" data-lang="cs">
          K tomuto NASu se lze p≈ôipojit p≈ôes <b>SMB</b> i <b>NFS</b> z Windows i Linuxu
          a tak√© pomoc√≠ vestavƒõn√©ho webov√©ho prohl√≠≈æeƒçe soubor≈Ø.
        </p>

        <p class="note" data-lang="en">
          A limited <b>guest</b> account is available for visitors:
          <code>nasguest</code> / <code>nasguest</code>.
        </p>
        <p class="note" data-lang="cs">
          Pro n√°v≈°tƒõvn√≠ky je k dispozici omezen√Ω √∫ƒçet <b>guest</b>:
          <code>nasguest</code> / <code>nasguest</code>.
        </p>
      </section>

      <!-- Web File Browser -->
      <section class="card">
        <h2 data-lang="en">Web File Browser</h2>
        <h2 data-lang="cs">Webov√Ω prohl√≠≈æeƒç soubor≈Ø</h2>

        <p class="note" data-lang="en">
          Use the built-in <b>FileBrowser Quantum</b> from any browser or device.
        </p>
        <p class="note" data-lang="cs">
          Pou≈æijte vestavƒõn√Ω <b>FileBrowser Quantum</b> z libovoln√©ho prohl√≠≈æeƒçe nebo za≈ô√≠zen√≠.
        </p>

        <div class="button button-primary"
             role="button"
             tabindex="0"
             onclick="window.open('{{ base_url }}:8080', '_blank', 'noopener');">
          <div class="button-image"></div>
          <div class="button-text" data-lang="en">Browse Now</div>
          <div class="button-text" data-lang="cs">Otev≈ô√≠t prohl√≠≈æeƒç</div>
        </div>

        <p data-lang="en">
          Web UI endpoint:
          <a class="endpoint" href="{{ base_url }}:8080" target="_blank" rel="noopener">
            {{ base_url }}:8080
          </a>
        </p>
        <p data-lang="cs">
          Adresa webov√©ho rozhran√≠:
          <a class="endpoint" href="{{ base_url }}:8080" target="_blank" rel="noopener">
            {{ base_url }}:8080
          </a>
        </p>
      </section>

      <!-- Storage usage -->
      <section class="card">
        <h2 data-lang="en">Storage Usage</h2>
        <h2 data-lang="cs">Vyu≈æit√≠ √∫lo≈æi≈°tƒõ</h2>

        <ul class="storage-list">
          {% for name, d in disks.items() %}
            <li class="storage-item">
              <div class="storage-header">
                <!-- Same label in both langs, path is self-explanatory -->
                <span>{{ name|capitalize }} ({{ d.path }})</span>
                <span data-lang="en">
                  {{ "%.1f"|format(d.used_gib) }} / {{ "%.1f"|format(d.total_gib) }} GiB
                  ({{ "%.1f"|format(d.percent) }}% used)
                </span>
                <span data-lang="cs">
                  {{ "%.1f"|format(d.used_gib) }} / {{ "%.1f"|format(d.total_gib) }} GiB
                  (vyu≈æito {{ "%.1f"|format(d.percent) }} %)
                </span>
              </div>

              <div class="storage-bar">
                <div
                  class="storage-bar-fill"
                  style="width: {{ d.percent }}%;"
                ></div>
              </div>
            </li>
          {% endfor %}
        </ul>
      </section>

      <!-- Mount guides header -->
      <header class="header mount-header">
        <h1 data-lang="en">Mount Guides</h1>
        <h1 data-lang="cs">N√°vody na p≈ôipojen√≠</h1>
      </header>

      <!-- Windows SMB guide -->
      <section class="card">
        <h2 data-lang="en">Windows: SMB</h2>
        <h2 data-lang="cs">Windows: SMB</h2>

        <p class="note" data-lang="en">
          Use the built-in Windows SMB feature to mount your NAS drives.
        </p>
        <p class="note" data-lang="cs">
          K p≈ôipojen√≠ disk≈Ø z NASu pou≈æijte vestavƒõnou podporu <b>SMB</b> ve Windows.
        </p>

        <div class="guide-step">
          <h3 data-lang="en">1. Open ‚ÄúMap Network Drive‚Äù</h3>
          <h3 data-lang="cs">1. Otev≈ôete ‚ÄûP≈ôipojit s√≠≈•ovou jednotku‚Äú</h3>

          <p data-lang="en">
            Open File Explorer, select <b>This PC</b>, then on the toolbar choose
            <b>More options</b> (three dots) and click <b>Map network drive</b>.
          </p>
          <p data-lang="cs">
            Otev≈ôete Pr≈Øzkumn√≠ka soubor≈Ø, vyberte <b>Tento poƒç√≠taƒç</b>, v horn√≠ li≈°tƒõ kliknƒõte na
            <b>Dal≈°√≠ mo≈ænosti</b> (t≈ôi teƒçky) a zvolte <b>P≈ôipojit s√≠≈•ovou jednotku</b>.
          </p>

          <div class="guide-image-container">
            <img src="/static/smb-guide/add-network-drive.png"
                 alt="File Explorer with Map network drive option">
            <div class="image-overlay"></div>
          </div>
        </div>

        <div class="guide-step">
          <h3 data-lang="en">2. Enter the NAS path</h3>
          <h3 data-lang="cs">2. Zadejte cestu k NASu</h3>

          <p data-lang="en">
            In the wizard, choose a drive letter and enter the network path in the form
            <code>\\SERVER_IP_OR_NAME\DIRECTORY</code>.
          </p>
          <p data-lang="cs">
            V pr≈Øvodci zvolte p√≠smeno jednotky a zadejte s√≠≈•ovou cestu ve tvaru
            <code>\\SERVER_IP_NEBO_JM√âNO\ADRES√Å≈ò</code>.
          </p>

          <div class="guide-image-container">
            <img src="/static/smb-guide/enter-url.png"
                 alt="Windows dialog for entering the network folder path">
            <div class="image-overlay"></div>
          </div>
        </div>

        <div class="guide-step">
          <h3 data-lang="en">3. Enter credentials</h3>
          <h3 data-lang="cs">3. Zadejte p≈ôihla≈°ovac√≠ √∫daje</h3>

          <p data-lang="en">
            When prompted, enter your NAS username and password and enable
            <b>Remember my credentials</b>.
          </p>
          <p data-lang="cs">
            Po v√Ωzvƒõ zadejte u≈æivatelsk√© jm√©no a heslo k NASu a za≈°krtnƒõte
            <b>Pamatovat si p≈ôihla≈°ovac√≠ √∫daje</b>.
          </p>

          <div class="guide-image-container">
            <img src="/static/smb-guide/enter-credentials.png"
                 alt="Windows credentials dialog for network share">
            <div class="image-overlay"></div>
          </div>
        </div>
      </section>

      <!-- Windows NFS guide -->
      <section class="card">
        <h2 data-lang="en">Windows: NFS</h2>
        <h2 data-lang="cs">Windows: NFS</h2>

        <p class="note" data-lang="en">
          Recommended for advanced users. NFS can provide higher transfer speeds.
          The NFS client feature is available only in specific Windows editions that include
          <b>Client for NFS</b> (Windows Server and Pro versions).
        </p>
        <p class="note" data-lang="cs">
          Doporuƒçeno pro pokroƒçil√© u≈æivatele. NFS m≈Ø≈æe nab√≠dnout vy≈°≈°√≠ p≈ôenosov√© rychlosti.
          Funkce klienta NFS je dostupn√° jen v nƒõkter√Ωch edic√≠ch Windows, kter√© obsahuj√≠
          <b>Client for NFS</b> (Windows Server a Pro verze).
        </p>

        <div class="guide-step">
          <h3 data-lang="en">1. Enable the NFS client</h3>
          <h3 data-lang="cs">1. Zapnƒõte klienta NFS</h3>

          <p data-lang="en">
            Download the Windows NFS client enable script:
            <a href="https://raw.githubusercontent.com/kubikulek231/nas/refs/heads/master/nfs/enable-nfs-client.ps1"
               target="_blank" rel="noopener">
              enable-nfs-client.ps1
            </a>
          </p>
          <p data-lang="cs">
            St√°hnƒõte skript pro zapnut√≠ klienta NFS ve Windows:
            <a href="https://raw.githubusercontent.com/kubikulek231/nas/refs/heads/master/nfs/enable-nfs-client.ps1"
               target="_blank" rel="noopener">
              enable-nfs-client.ps1
            </a>
          </p>

          <p data-lang="en">
            Press the Start button, type <code>powershell</code>, right-click the first result,
            and select <b>Run as administrator</b>.
          </p>
          <p data-lang="cs">
            Stisknƒõte tlaƒç√≠tko Start, napi≈°te <code>powershell</code>, kliknƒõte prav√Ωm tlaƒç√≠tkem na prvn√≠ v√Ωsledek
            a zvolte <b>Spustit jako spr√°vce</b>.
          </p>

          <p data-lang="en">
            Use <code>cd</code> to navigate to the script location, then run
            <code>.\enable-nfs-client.ps1</code>. When it finishes, press Enter to restart
            your computer.
          </p>
          <p data-lang="cs">
            Pomoc√≠ p≈ô√≠kazu <code>cd</code> p≈ôejdƒõte do slo≈æky se skriptem a spus≈•te
            <code>.\enable-nfs-client.ps1</code>. Po dokonƒçen√≠ stisknƒõte Enter a restartujte poƒç√≠taƒç.
          </p>
        </div>

        <div class="guide-step">
          <h3 data-lang="en">2. Mount the drives</h3>
          <h3 data-lang="cs">2. P≈ôipojte jednotky</h3>

          <p data-lang="en">
            Open a normal <b>Command Prompt</b> (do not run it as administrator).
          </p>
          <p data-lang="cs">
            Otev≈ôete bƒõ≈æn√Ω <b>P≈ô√≠kazov√Ω ≈ô√°dek</b> (nespou≈°tƒõjte ho jako spr√°vce).
          </p>

          <p data-lang="en">
            Run:
            <code>mount SERVER_IP_OR_NAME:/DIRECTORY WINDOWS_LETTER:</code><br>
            Example:
            <code>mount 192.168.1.230:/srv/data Z:</code>.
          </p>
          <p data-lang="cs">
            Spus≈•te p≈ô√≠kaz:
            <code>mount SERVER_IP_NEBO_JM√âNO:/ADRES√Å≈ò P√çSMENO_VE_WINDOWS:</code><br>
            P≈ô√≠klad:
            <code>mount 192.168.1.230:/srv/data Z:</code>.
          </p>

          <p class="note" data-lang="en">
            You can unmount an NFS drive with:
            <code>umount LETTER:</code>.
          </p>
          <p class="note" data-lang="cs">
            Jednotku NFS m≈Ø≈æete odpojit p≈ô√≠kazem:
            <code>umount P√çSMENO:</code>.
          </p>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <span>NAS Hub</span>
      <span class="dot">&bull;</span>
      <span>
        <a href="https://github.com/kubikulek231/nas" target="_blank" rel="noopener">
          GitHub repository
        </a>
      </span>
    </footer>
  </div>

  <!-- Language script at end so DOM exists -->
  <script src="{{ url_for('static', filename='language.js') }}"></script>
</body>
</html>
